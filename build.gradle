plugins {
    //id 'fabric-loom' version '1.3-SNAPSHOT' apply(false)
    id 'net.minecraftforge.gradle' version '[6.0,6.2)' apply(false)
    //id("org.spongepowered.mixin") version "0.7-SNAPSHOT" apply(false)
    id 'org.parchmentmc.librarian.forgegradle' version '1.+' apply(false)
}
allprojects {
    tasks.withType(JavaCompile).configureEach {
        options.encoding = 'UTF-8'
    }

}
subprojects {
    apply plugin: 'java'
    apply plugin: 'net.minecraftforge.gradle'
    //apply plugin: 'net.minecraftforge.gradle'
    apply plugin: 'org.parchmentmc.librarian.forgegradle'
    //java.withSourcesJar()
    //java.withJavadocJar()
    minecraft {
        mappings channel: 'parchment', version: '2023.09.03-1.20.1'
    }

    repositories {
        mavenCentral()
        maven {
            url = "https://maven.minecraftforge.net/"
        }
        maven {
            url = "https://maven.architectury.dev"
        }
        maven {
            url = "https://maven.saps.dev/minecraft"
        }
        maven {
            url = "https://dvs1.progwml6.com/files/maven/"
        }
        maven {
            url = "https://maven.blamejared.com/"
        }
        maven {
            url = "https://modmaven.dev"
        }
        maven {
            url = "https://cursemaven.com"
        }
        maven {
            url = "https://maven.tterrag.com/"
        }
        maven {
            url = "https://maven.resourcefulbees.com/repository/maven-public/"
        }
        maven {
            url = "https://maven.teamresourceful.com/repository/maven-public/"
        }
        maven {
            url = "https://maven.firstdarkdev.xyz/snapshots"
        }
        maven {
            url = "https://maven.gtceu.com"
        }
        maven {
            url = "https://maven.rover656.dev/releases"
        }
        maven {
            url = "https://maven.theillusivec4.top/"
        }
        maven {
            maven {
                name = 'ModdingX Maven'
                url = 'https://maven.moddingx.org/'
            }
            name = "Modrinth"
            url = "https://api.modrinth.com/maven"
        }
        maven {
            url "https://maven.latvian.dev/releases"
            content {
                includeGroup "dev.latvian.mods"
                includeGroup "dev.latvian.apps"
            }
        }

        maven {
            url 'https://jitpack.io'
            content {
                includeGroup "com.github.rtyley"
            }
        }
        maven {
            name = 'GuideME Snapshots'
            url = 'https://central.sonatype.com/repository/maven-snapshots/'
            content {
                includeModule('org.appliedenergistics', 'guideme')
            }
        }
        maven { url = "https://maven.createmod.net" }
    }
    dependencies {
        minecraft "net.minecraftforge:forge:${minecraft_version}-${forge_version}"
    }
}

task runBio(type: GradleBuild) {
    tasks = [':modules:CTNH-Bio:runClient']
}

task runDataBio(type: GradleBuild) {
    tasks = [':modules:CTNH-Bio:runData']
}

task buildBio(type: GradleBuild) {
    tasks = [':modules:CTNH-Bio:build']
}

task runCore(type: GradleBuild) {
    tasks = [':modules:CTNH-Core:runClient']
}

task runDataCore(type: GradleBuild) {
    tasks = [':modules:CTNH-Core:runData']
}

task buildCore(type: GradleBuild) {
    tasks = [':modules:CTNH-Core:build']
}

task runCTPP(type: GradleBuild) {
    tasks = [':modules:CTPP:runClient']
}

task runDataCTPP(type: GradleBuild) {
    tasks = [':modules:CTPP:runData']
}

task buildCTPP(type: GradleBuild) {
    tasks = [':modules:CTPP:build']
}
task runMana(type: GradleBuild) {
    tasks = [':modules:CTNH-Mana:runClient']
}

task runDataMana(type: GradleBuild) {
    tasks = [':modules:CTNH-Mana:runData']
}

task buildMana(type: GradleBuild) {
    tasks = [':modules:CTNH-Mana:build']
}